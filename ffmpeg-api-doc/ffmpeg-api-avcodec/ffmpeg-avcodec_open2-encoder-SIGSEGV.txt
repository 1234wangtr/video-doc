--------------------------
2015.4.27 
open audio encoder failed: -22
--------------------------
没有重现，后来崩溃，原因类似 2015.2.5 的错误

--------------------------
2015.3.2 
尚博才 11:14:37 
open audio encoder failed: -733130664
--------------------------
错误原因，使用的FFMPEG自带的AAC编码器，
1. 传入的 S16 格式，不支持
2. 需要添加下面的标志
output_audio_stream->codec->strict_std_compliance = FF_COMPLIANCE_EXPERIMENTAL;

-------------------------
2015.2.5  测试 声音截取功能
HTC 手机没有问题
Xperia 手机出问题  且测试程序没问题  飞信视频有问题
-------------------------

原因是：
前面运行的代码
aac 解码器的 AVCodec 结构体sample_fmts字段，指针指向了局部变量
  AVCodec *audio_codec = avcodec_find_encoder(AV_CODEC_ID_AAC);
  enum AVSampleFormat sample_fmts[2];
  sample_fmts[0] = AV_SAMPLE_FMT_FLTP;
  sample_fmts[1] = AV_SAMPLE_FMT_NONE;
  audio_codec->sample_fmts = sample_fmts;

后面运行的代码没有修改这个字段，这个sample_fmts指针，指向的值不确定了
造成后面的 avcodec_open2(output_audio_stream->codec, audio_codec, NULL) 有时崩溃

解决方法：
  暂时，也按照前面运行的代码为这个字段赋值

02-05 11:16:51.908 30198 30198 I DEBUG   : *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** ***

02-05 11:16:51.908 30198 30198 I DEBUG   : Build fingerprint: 'Sony/S36h_1272-6538/S36h:4.1.2/15.0.A.2.17/Android.2019:user/release-keys'

02-05 11:16:51.908 30198 30198 I DEBUG   : pid: 8995, tid: 9614, name: Thread-1976  >>> cn.com.fetion.mvclip <<<

02-05 11:16:51.908 30198 30198 I DEBUG   : signal 11 (SIGSEGV), code 1 (SEGV_MAPERR), fault addr 5532e000

02-05 11:16:52.028 30198 30198 I DEBUG   :     r0 00000008  r1 55eefdfc  r2 5532db40  r3 00000002

02-05 11:16:52.028 30198 30198 I DEBUG   :     r4 4fad6860  r5 000004c0  r6 55eefdfc  r7 00000000

02-05 11:16:52.028 30198 30198 I DEBUG   :     r8 55a49834  r9 55e79194  sl 00000000  fp 55a49c6c

02-05 11:16:52.028 30198 30198 I DEBUG   :     ip 55eeec24  sp 55a49820  lr 55cab5dc  pc 55cab618  cpsr 28000010

02-05 11:16:52.028 30198 30198 I DEBUG   :     d0  3ff0000000000000  d1  2f726574736e6f6d

02-05 11:16:52.028 30198 30198 I DEBUG   :     d2  6e6a2f6f65646976  d3  61667265746e6969

02-05 11:16:52.028 30198 30198 I DEBUG   :     d4  0000000000000000  d5  0000000000000000

02-05 11:16:52.038 30198 30198 I DEBUG   :     d6  4000000000000000  d7  3ff0000000000000

02-05 11:16:52.038 30198 30198 I DEBUG   :     d8  0000000000000000  d9  43f0000043380000

02-05 11:16:52.038 30198 30198 I DEBUG   :     d10 0000000043890000  d11 0000000000000000

02-05 11:16:52.038 30198 30198 I DEBUG   :     d12 0000000000000000  d13 0000000000000000

02-05 11:16:52.038 30198 30198 I DEBUG   :     d14 0000000000000000  d15 0000000000000000

02-05 11:16:52.038 30198 30198 I DEBUG   :     d16 3ff0000000000000  d17 3132363031333234

02-05 11:16:52.038 30198 30198 I DEBUG   :     d18 5f6e6f697465662f  d19 65722f6f65646976

02-05 11:16:52.038 30198 30198 I DEBUG   :     d20 762f656372756f73  d21 656666656f656469

02-05 11:16:52.038 30198 30198 I DEBUG   :     d22 656469562f737463  d23 666974756165426f

02-05 11:16:52.038 30198 30198 I DEBUG   :     d24 0002000000020001  d25 0006000500040003

02-05 11:16:52.038 30198 30198 I DEBUG   :     d26 0000000000000000  d27 0000000000000000

02-05 11:16:52.048 30198 30198 I DEBUG   :     d28 0000000000000000  d29 3ff0000000000000

02-05 11:16:52.048 30198 30198 I DEBUG   :     d30 0006000600060006  d31 0000000000000000

02-05 11:16:52.048 30198 30198 I DEBUG   :     scr 28000013

02-05 11:16:52.048 30198 30198 I DEBUG   : 

02-05 11:16:52.048 30198 30198 I DEBUG   : backtrace:

02-05 11:16:52.048 30198 30198 I DEBUG   :     #00  pc 001ea618  /mnt/asec/cn.com.fetion.mvclip-1/lib/libconvert.so (avcodec_open2+1632)

02-05 11:16:52.048 30198 30198 I DEBUG   :     #01  pc 001ea5d8  /mnt/asec/cn.com.fetion.mvclip-1/lib/libconvert.so (avcodec_open2+1568)

02-05 11:16:52.048 30198 30198 I DEBUG   : 

02-05 11:16:52.048 30198 30198 I DEBUG   : stack:

02-05 11:16:52.048 30198 30198 I DEBUG   :          55a497e0  00000000  

02-05 11:16:52.048 30198 30198 I DEBUG   :          55a497e4  55d15728  /mnt/asec/cn.com.fetion.mvclip-1/lib/libconvert.so (av_freep+16)

02-05 11:16:52.048 30198 30198 I DEBUG   :          55a497e8  55fac340  

02-05 11:16:52.048 30198 30198 I DEBUG   :          55a497ec  5240bdd0  

02-05 11:16:52.048 30198 30198 I DEBUG   :          55a497f0  55fac34c  

02-05 11:16:52.048 30198 30198 I DEBUG   :          55a497f4  55eefdfc  /mnt/asec/cn.com.fetion.mvclip-1/lib/libconvert.so

02-05 11:16:52.058 30198 30198 I DEBUG   :          55a497f8  00000000  

02-05 11:16:52.058 30198 30198 I DEBUG   :          55a497fc  55ca4cdc  /mnt/asec/cn.com.fetion.mvclip-1/lib/libconvert.so

02-05 11:16:52.058 30198 30198 I DEBUG   :          55a49800  4fad6860  

02-05 11:16:52.058 30198 30198 I DEBUG   :          55a49804  00000000  

02-05 11:16:52.058 30198 30198 I DEBUG   :          55a49808  55eefdfc  /mnt/asec/cn.com.fetion.mvclip-1/lib/libconvert.so

02-05 11:16:52.058 30198 30198 I DEBUG   :          55a4980c  55caacf4  /mnt/asec/cn.com.fetion.mvclip-1/lib/libconvert.so (ff_lock_avcodec+52)

02-05 11:16:52.058 30198 30198 I DEBUG   :          55a49810  55e79194  /mnt/asec/cn.com.fetion.mvclip-1/lib/libconvert.so

02-05 11:16:52.058 30198 30198 I DEBUG   :          55a49814  00000000  

02-05 11:16:52.058 30198 30198 I DEBUG   :          55a49818  df0027ad  

02-05 11:16:52.058 30198 30198 I DEBUG   :          55a4981c  00000000  

02-05 11:16:52.058 30198 30198 I DEBUG   :     #00  55a49820  00000000  

02-05 11:16:52.058 30198 30198 I DEBUG   :          ........  ........

02-05 11:16:52.068 30198 30198 I DEBUG   :     #01  55a49820  00000000  

02-05 11:16:52.068 30198 30198 I DEBUG   :          55a49824  00000000  

02-05 11:16:52.068 30198 30198 I DEBUG   :          55a49828  00000000  

02-05 11:16:52.068 30198 30198 I DEBUG   :          55a4982c  00000000  

02-05 11:16:52.068 30198 30198 I DEBUG   :          55a49830  00000000  

02-05 11:16:52.068 30198 30198 I DEBUG   :          55a49834  00000000  

02-05 11:16:52.068 30198 30198 I DEBUG   :          55a49838  00000000  

02-05 11:16:52.068 30198 30198 I DEBUG   :          55a4983c  00000000  

02-05 11:16:52.068 30198 30198 I DEBUG   :          55a49840  00000000  

02-05 11:16:52.068 30198 30198 I DEBUG   :          55a49844  00000000  

02-05 11:16:52.068 30198 30198 I DEBUG   :          55a49848  00000000  

02-05 11:16:52.068 30198 30198 I DEBUG   :          55a4984c  00000000  

02-05 11:16:52.078 30198 30198 I DEBUG   :          55a49850  00000000  

02-05 11:16:52.078 30198 30198 I DEBUG   :          55a49854  00000000  

02-05 11:16:52.078 30198 30198 I DEBUG   :          55a49858  00000000  

02-05 11:16:52.078 30198 30198 I DEBUG   :          55a4985c  00000000  

02-05 11:16:52.078 30198 30198 I DEBUG   : 

02-05 11:16:52.078 30198 30198 I DEBUG   : memory near r1:

02-05 11:16:52.078 30198 30198 I DEBUG   :     55eefddc 00000000 00000000 55b0c140 00000000  ........@..U....

02-05 11:16:52.078 30198 30198 I DEBUG   :     55eefdec 00000000 55cb501c 55b0bf50 55cac66c  .....P.UP..Ul..U

02-05 11:16:52.078 30198 30198 I DEBUG   :     55eefdfc 55e85330 55e8ace8 00000001 00015002  0S.U...U.....P..

02-05 11:16:52.078 30198 30198 I DEBUG   :     55eefe0c 00000260 00000000 00000000 55ea7624  `...........$v.U

02-05 11:16:52.078 30198 30198 I DEBUG   :     55eefe1c 5532db40 00000000 00000000 55eec554  @.2U........T..U

02-05 11:16:52.078 30198 30198 I DEBUG   : 

02-05 11:16:52.078 30198 30198 I DEBUG   : memory near r2:

02-05 11:16:52.078 30198 30198 I DEBUG   :     5532db20 41e07de0 68400009 4bd4cb00 41e07de0  .}.A..@h...K.}.A

02-05 11:16:52.078 30198 30198 I DEBUG   :     5532db30 5532db54 4bd4cb00 41e07de0 40805ef9  T.2U...K.}.A.^.@

02-05 11:16:52.088 30198 30198 I DEBUG   :     5532db40 68400009 40809a2d 5532db58 5532db8c  ..@h-..@X.2U..2U

02-05 11:16:52.088 30198 30198 I DEBUG   :     5532db50 00000001 524e3ae0 00000001 00000007  .....:NR........

02-05 11:16:52.088 30198 30198 I DEBUG   :     5532db60 524f4dec 408099df 4dcfea60 5241cfc0  .MOR...@`..M..AR

02-05 11:16:52.088 30198 30198 I DEBUG   : 

02-05 11:16:52.088 30198 30198 I DEBUG   : memory near r4:

02-05 11:16:52.088 30198 30198 I DEBUG   :     4fad6840 531f9690 531f96e0 52549e80 00000011  ...S...S..TR....

02-05 11:16:52.088 30198 30198 I DEBUG   :     4fad6850 40192534 531e89c0 00000038 000003e3  4%.@...S8.......

02-05 11:16:52.088 30198 30198 I DEBUG   :     4fad6860 55ee30a0 00000000 00000001 55eefdfc  .0.U...........U

02-05 11:16:52.088 30198 30198 I DEBUG   :     4fad6870 00000000 00000000 00000000 00000000  ................

02-05 11:16:52.088 30198 30198 I DEBUG   :     4fad6880 00000000 00000000 00000000 00000000  ................

02-05 11:16:52.088 30198 30198 I DEBUG   : 

02-05 11:16:52.088 30198 30198 I DEBUG   : memory near r6:

02-05 11:16:52.088 30198 30198 I DEBUG   :     55eefddc 00000000 00000000 55b0c140 00000000  ........@..U....

02-05 11:16:52.088 30198 30198 I DEBUG   :     55eefdec 00000000 55cb501c 55b0bf50 55cac66c  .....P.UP..Ul..U

02-05 11:16:52.088 30198 30198 I DEBUG   :     55eefdfc 55e85330 55e8ace8 00000001 00015002  0S.U...U.....P..

02-05 11:16:52.088 30198 30198 I DEBUG   :     55eefe0c 00000260 00000000 00000000 55ea7624  `...........$v.U

02-05 11:16:52.098 30198 30198 I DEBUG   :     55eefe1c 5532db40 00000000 00000000 55eec554  @.2U........T..U

02-05 11:16:52.098 30198 30198 I DEBUG   : 

02-05 11:16:52.098 30198 30198 I DEBUG   : memory near r8:

02-05 11:16:52.098 30198 30198 I DEBUG   :     55a49814 00000000 df0027ad 00000000 00000000  .....'..........

02-05 11:16:52.098 30198 30198 I DEBUG   :     55a49824 00000000 00000000 00000000 00000000  ................

02-05 11:16:52.098 30198 30198 I DEBUG   :     55a49834 00000000 00000000 00000000 00000000  ................

02-05 11:16:52.098 30198 30198 I DEBUG   :     55a49844 00000000 00000000 00000000 00000000  ................

02-05 11:16:52.098 30198 30198 I DEBUG   :     55a49854 00000000 00000000 00000000 00000000  ................

02-05 11:16:52.098 30198 30198 I DEBUG   : 

02-05 11:16:52.098 30198 30198 I DEBUG   : memory near r9:

02-05 11:16:52.098 30198 30198 I DEBUG   :     55e79174 00003040 00000004 00003038 00003057  @0......80..W0..

02-05 11:16:52.098 30198 30198 I DEBUG   :     55e79184 000001e0 00003056 000001e0 00003038  ....V0......80..

02-05 11:16:52.098 30198 30198 I DEBUG   :     55e79194 4c494e4a 6f00676f 736e6570 7365206c  JNILog.opensl es

02-05 11:16:52.098 30198 30198 I DEBUG   :     55e791a4 696e6920 61662074 00006c69 61647075   init fail..upda

02-05 11:16:52.098 30198 30198 I DEBUG   :     55e791b4 69566574 506f6564 5379616c 65746174  teVideoPlayState

02-05 11:16:52.098 30198 30198 I DEBUG   : 

02-05 11:16:52.098 30198 30198 I DEBUG   : memory near fp:

02-05 11:16:52.098 30198 30198 I DEBUG   :     55a49c4c 407db334 00000ca8 00002710 52033f58  4.}@.....'..X?.R

02-05 11:16:52.108 30198 30198 I DEBUG   :     55a49c5c 00000001 41b26d58 54060307 00000047  ....Xm.A...TG...

02-05 11:16:52.108 30198 30198 I DEBUG   :     55a49c6c 4080a07d 52033f58 54060302 55b133f1  }..@X?.R...T.3.U

02-05 11:16:52.108 30198 30198 I DEBUG   :     55a49c7c 530fad70 00000000 00000000 524f63f8  p..S.........cOR

02-05 11:16:52.108 30198 30198 I DEBUG   :     55a49c8c 40199a6c 00000000 4015e831 4015e7f9  l..@....1..@...@

02-05 11:16:52.108 30198 30198 I DEBUG   : 

02-05 11:16:52.108 30198 30198 I DEBUG   : memory near ip:

02-05 11:16:52.108 30198 30198 I DEBUG   :     55eeec04 401f62f5 401737c5 52023565 4016000d  .b.@.7.@e5.R...@

02-05 11:16:52.108 30198 30198 I DEBUG   :     55eeec14 520235d1 401571c0 5202361b 4015fff9  .5.R.q.@.6.R...@

02-05 11:16:52.108 30198 30198 I DEBUG   :     55eeec24 4015b330 4015b730 4015bf34 4015788c  0..@0..@4..@.x.@

02-05 11:16:52.108 30198 30198 I DEBUG   :     55eeec34 401575e0 401683b1 40165689 40169721  .u.@...@.V.@!..@

02-05 11:16:52.108 30198 30198 I DEBUG   :     55eeec44 401574e8 400374f8 40037084 40037a4c  .t.@.t.@.p.@Lz.@

02-05 11:16:52.108 30198 30198 I DEBUG   : 

02-05 11:16:52.108 30198 30198 I DEBUG   : memory near sp:

02-05 11:16:52.108 30198 30198 I DEBUG   :     55a49800 4fad6860 00000000 55eefdfc 55caacf4  `h.O.......U...U

02-05 11:16:52.108 30198 30198 I DEBUG   :     55a49810 55e79194 00000000 df0027ad 00000000  ...U.....'......

02-05 11:16:52.108 30198 30198 I DEBUG   :     55a49820 00000000 00000000 00000000 00000000  ................

02-05 11:16:52.118 30198 30198 I DEBUG   :     55a49830 00000000 00000000 00000000 00000000  ................

02-05 11:16:52.118 30198 30198 I DEBUG   :     55a49840 00000000 00000000 00000000 00000000  ................

02-05 11:16:52.118 30198 30198 I DEBUG   : 

02-05 11:16:52.118 30198 30198 I DEBUG   : code around pc:

02-05 11:16:52.118 30198 30198 I DEBUG   :     55cab5f8 e3730001 0a0000fe e59401a4 e3a05000  ..s..........P..

02-05 11:16:52.118 30198 30198 I DEBUG   :     55cab608 e1530000 1a000006 ea0000f5 e2855004  ..S..........P..

02-05 11:16:52.118 30198 30198 I DEBUG   :     55cab618 e7923005 e3730001 0a0000f5 e1530000  .0....s.......S.

02-05 11:16:52.118 30198 30198 I DEBUG   :     55cab628 0a0000ef e59431a0 e3530001 1afffff6  .....1....S.....

02-05 11:16:52.118 30198 30198 I DEBUG   :     55cab638 eb01d179 e594300c e5933020 e1a09000  y....0.. 0......

02-05 11:16:52.118 30198 30198 I DEBUG   : 

02-05 11:16:52.118 30198 30198 I DEBUG   : code around lr:

02-05 11:16:52.118 30198 30198 I DEBUG   :     55cab5bc a3a01000 b3a01001 e1912fa2 1affff74  ........./..t...

02-05 11:16:52.118 30198 30198 I DEBUG   :     55cab5cc e59432b4 e3530000 1a0000e8 ebffe62c  .2....S.....,...

02-05 11:16:52.118 30198 30198 I DEBUG   :     55cab5dc e3500000 0a00005d e594100c e5912020  ..P.].......  ..

02-05 11:16:52.118 30198 30198 I DEBUG   :     55cab5ec e3520000 0a000097 e5923000 e3730001  ..R......0....s.

02-05 11:16:52.118 30198 30198 I DEBUG   :     55cab5fc 0a0000fe e59401a4 e3a05000 e1530000  .........P....S.

02-05 11:16:52.118 30198 30198 I DEBUG   : 

02-05 11:16:52.118 30198 30198 I DEBUG   : memory map around fault addr 5532e000:

02-05 11:16:52.118 30198 30198 I DEBUG   :     5522f000-5532e000 [stack:9508]

02-05 11:16:52.128 30198 30198 I DEBUG   :     (no map for address)

02-05 11:16:52.128 30198 30198 I DEBUG   :     553a5000-5551c000 /dev/kgsl-3d0